#include <IRremoteESP8266.h> //INCLUSÃO DE BIBLIOTECA

IRsend irsend(14); //FUNÇÃO RESPONSÁVEL PELO MÉTODO DE ENVIO DO SINAL IR / UTILIZA O GPIO14(D5)

int khz = 38; // 38kHz carrier frequency for the NEC protocol
unsigned int LigarSamsung[] = {588,17940,2992,8984,508,492,508,1488,508,492,504,492,508,492,508,492,504,516,484,516,480,516,480,1516,480,520,480,516,484,1512,508,492,508,488,508,1488,512,1484,512,1484,508,1492,504,1492,504,520,480,516,480,520,476,520,480,520,480,516,504,496,508,488,508,492,508,488,508,492,508,488,508,492,508,492,504,492,508,492,504,496,504,516,480,520,480,516,480,520,480,516,480,520,480,516,508,492,508,488,508,492,508,488,508,492,508,488,508,492,508,492,504,1492,504,1492,504,1516,480,1516,508,2972,3016,8960,504,1520,484,512,508,492,504,492,508,492,508,488,508,492,508,488,508,492,504,1492,508,492,504,520,480,1516,480,516,480,1520,476,1516,480,1516,508,1488,508,1488,508,1488,508,492,508,488,508,492,508,492,504,496,504,516,480,520,480,516,480,516,484,516,480,520,480,516,508,488,512,488,508,492,508,488,508,492,508,488,508,492,508,492,508,488,508,492,504,520,480,516,484,516,480,516,480,520,480,516,480,520,480,516,508,492,504,492,508,492,508,488,508,492,508,488,508,3000,2988,8964,528,1492,508,492,504,516,484,516,480,516,480,520,480,516,484,516,504,496,480,1516,504,492,508,488,512,1484,508,492,508,1488,508,1488,508,492,504,1516,480,1516,480,1516,480,1516,484,1512,508,1488,508,1488,508,1488,508,492,508,488,508,492,508,1488,508,1516,480,1516,476,520,480,520,480,516,480,520,504,492,508,492,508,1488,508,1488,504,492,508,1488,508,492,508,492,504,496,504,1512,484,516,484,516,476,520,480,520,480,516,508,492,504,492,508,1488,508,1488,508,1488,508,1488,512};
unsigned int DesligarSamsung[] = {616,17892,3040,8964,504,520,504,1492,508,488,508,492,508,488,508,492,504,492,508,492,508,492,504,1492,504,516,480,520,480,1516,480,1516,480,520,480,1512,508,1492,504,1492,508,1488,508,1488,504,492,508,492,508,492,504,516,480,520,480,520,480,516,480,520,480,516,480,520,480,516,504,496,508,488,508,492,504,492,508,492,504,492,508,492,508,488,508,492,508,492,508,512,484,516,484,516,480,516,480,520,480,516,480,520,480,516,480,520,508,488,508,492,508,492,504,492,508,1488,508,1488,508,2996,2988,8988,508,1516,480,520,480,516,480,520,480,516,480,520,480,516,508,492,508,488,508,1488,508,492,508,488,508,1488,508,492,508,1488,508,1512,484,1516,480,1516,480,1516,480,1516,504,492,508,492,508,488,508,492,508,488,508,492,504,492,508,492,508,492,504,516,484,516,480,520,480,516,480,520,476,520,480,520,480,516,480,520,504,492,508,492,508,492,504,492,508,492,504,492,508,492,508,488,508,492,504,520,480,516,480,520,480,520,476,520,480,520,476,520,480,520,504,492,508,2996,2992,8960,536,1484,512,488,508,488,508,492,508,492,504,496,504,492,508,516,480,520,476,1516,484,516,480,516,480,1516,504,1492,512,1484,508,1488,508,492,508,1488,508,1488,508,1488,508,1516,480,1516,480,1516,480,1516,480,1516,508,488,508,492,508,488,508,1488,508,1488,508,1492,504,492,508,516,480,520,480,516,480,520,480,516,480,1516,480,1516,508,492,508,1488,504,492,508,492,508,488,508,1492,504,492,508,492,504,496,504,516,480,520,480,516,484,516,480,516,484,516,480,1516,504,1492,504};
unsigned int LigarEletrolux[] = {9040,4492,672,536,672,536,672,532,672,1636,672,536,672,532,676,532,672,532,660,548,672,1636,672,536,668,536,672,532,676,532,672,536,672,536,672,532,672,532,676,532,672,532,672,536,672,1636,672,1636,672,532,676,532,676,532,672,532,672,540,656,1648,676,532,672,1636,648,556,672,536,648,1660,672,536,672,19944,696,532,672,536,672,536,668,536,672,536,672,532,672,536,676,532,672,1636,672,532,676,532,672,536,672,532,672,540,644,556,676,532,672,536,672,532,676,532,672,536,672,532,672,536,672,536,672,532,676,532,676,532,648,556,676,532,672,536,672,532,672,1640,672,532,672};
unsigned int DesligarEletrolux[] = {9040,4464,676,532,676,532,672,536,672,532,672,532,676,532,672,532,676,532,676,532,672,1636,676,524,680,536,668,532,676,536,672,532,672,536,672,532,672,532,676,532,672,536,672,532,676,1632,672,536,672,536,648,556,672,532,680,532,676,532,676,1632,672,536,672,1636,672,536,672,532,672,1636,676,528,676,19944,700,532,672,536,672,536,672,532,676,532,672,536,672,532,676,532,672,1632,676,1632,672,536,672,532,676,536,668,536,648,560,648,556,672,532,676,532,672,536,672,532,672,536,672,532,676,532,672,536,672,532,676,532,672,536,672,532,676,532,672,536,672,1636,672,1636,676};

unsigned long tInicial=0;
int ar=1, dia=0, hora=0, minuto=0, segundo=0;

void setup(){
  irsend.begin(); //INICIALIZA A FUNÇÃO
  Serial.begin(115200); //INICIALIZA A SERIAL
  tInicial = millis();
}

void loop() {
  Tempo();
  if(dia==0){
    LigDesl();
  }
}


void LigDesl(){
  if(ar == 1){
    irsend.sendRaw(LigarSamsung, sizeof(LigarSamsung) / sizeof(LigarSamsung[0]), khz);
    delay(10);
    irsend.sendRaw(DesligarEletrolux, sizeof(DesligarEletrolux) / sizeof(DesligarEletrolux[0]), khz);  
    ar = 2;
  }
  else{
    irsend.sendRaw(DesligarSamsung, sizeof(DesligarSamsung) / sizeof(DesligarSamsung[0]), khz);
    delay(10);
    irsend.sendRaw(LigarEletrolux, sizeof(LigarEletrolux) / sizeof(LigarEletrolux[0]), khz);
    ar = 1;    
  }
}
void Tempo(){
  Serial.println(minuto);
  segundo = ((millis() - tInicial)/1000);
  if(segundo > 59){
    tInicial = millis();
    minuto++;
  }
  if(minuto == 60){
    minuto = 0;
    hora++;
  }
  if(hora == 24){
    hora = 0;
    dia++;
  }
  if(dia == 7){
    dia = 0;
  }
}
